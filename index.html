<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Crypto Mastery Quiz</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #1f1c2c, #928dab);
    color: #eee;
    margin: 0; padding: 0;
    display: flex; justify-content: center; align-items: center;
    height: 100vh;
    direction: ltr;
  }
  body.rtl {
    direction: rtl;
    font-family: 'Arial', sans-serif;
  }
  #quiz-container {
    background: rgba(30, 30, 40, 0.95);
    border-radius: 12px;
    box-shadow: 0 0 20px #5f7aebaa;
    max-width: 800px;
    width: 95%;
    padding: 30px;
    text-align: center;
  }
  h1 {
    margin-bottom: 10px;
    color: #7d90ff;
  }
  #question {
    font-size: 1.3rem;
    margin: 20px 0;
    min-height: 80px;
  }
  .option {
    background: #393c59;
    margin: 10px 0;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s;
  }
  .option:hover {
    background: #5860ff;
    transform: scale(1.05);
  }
  .correct {
    background: #3cba54 !important;
  }
  .wrong {
    background: #db4437 !important;
  }
  #score, #progress, #timer {
    margin-top: 20px;
    font-size: 1.1rem;
  }
  #next-btn {
    margin-top: 25px;
    background: #7d90ff;
    border: none;
    color: #fff;
    padding: 12px 25px;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
  }
  #next-btn:disabled {
    background: #555;
    cursor: not-allowed;
  }
  #next-btn:hover:enabled {
    background: #4e5edd;
  }
  #lang-select {
    margin-bottom: 20px;
    font-size: 1rem;
    padding: 6px 12px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
  }
</style>
</head>
<body>
<div id="quiz-container">
  <select id="lang-select" aria-label="Select Language">
    <option value="en">ğŸ‡¬ğŸ‡§ English</option>
    <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
  </select>
  <h1 id="quiz-title">Crypto Mastery Quiz</h1>
  <div id="question">Loading question...</div>
  <div id="options"></div>
  <div id="timer"></div>
  <button id="next-btn" disabled>Next</button>
  <div id="progress"></div>
  <div id="score"></div>
</div>

<audio id="sound-correct" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="sound-wrong" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script>
(() => {
  const questionsData = {
    en: [
      {question:"What does a zk-SNARK provide in blockchain?",options:["Privacy-preserving zero-knowledge proof","A mining reward system","A type of wallet","Staking contract"],answer:"Privacy-preserving zero-knowledge proof"},
      {question:"What is a flash loan attack?",options:["Manipulating DeFi via instant loans","Mining pool overload","Gas fee manipulation","NFT duplication"],answer:"Manipulating DeFi via instant loans"},
      {question:"What is the main function of Chainlink?",options:["Providing oracles for smart contracts","Hosting NFTs","Staking service","Layer 2 scaling"],answer:"Providing oracles for smart contracts"},
      {question:"What is a Merkle Tree used for in blockchain?",options:["Efficient data verification","Token minting","Smart contract execution","Reward calculation"],answer:"Efficient data verification"},
      {question:"What is slippage in crypto trading?",options:["Difference between expected and actual price","Gas fee delay","Token inflation","Liquidity pool bug"],answer:"Difference between expected and actual price"},
      {question:"What does DeFi stand for?",options:["Decentralized Finance","Digital Finance","Distributed File","Direct Funding"],answer:"Decentralized Finance"},
      {question:"What is a DAO?",options:["Decentralized Autonomous Organization","Digital Asset Option","Data Access Object","Decentralized Algorithmic Oracle"],answer:"Decentralized Autonomous Organization"},
      {question:"What is the purpose of a smart contract?",options:["Self-executing contract on blockchain","Legal contract scanned","Crypto wallet","Mining hardware"],answer:"Self-executing contract on blockchain"},
      {question:"What does â€˜stakingâ€™ mean in crypto?",options:["Locking tokens to support network and earn rewards","Mining coins","Trading rapidly","Buying NFTs"],answer:"Locking tokens to support network and earn rewards"},
      {question:"Which consensus algorithm uses â€˜proof of workâ€™?",options:["Bitcoin","Ethereum 2.0","Cardano","Polkadot"],answer:"Bitcoin"},
      {question:"What is a â€˜nonceâ€™ in blockchain mining?",options:["A number used once to vary the hash","A type of wallet","A smart contract","A token standard"],answer:"A number used once to vary the hash"},
      {question:"What is the function of a â€˜hashâ€™ in blockchain?",options:["Data fingerprint for integrity","Token exchange rate","Gas fee","Wallet address"],answer:"Data fingerprint for integrity"},
      {question:"What is â€˜liquidity miningâ€™?",options:["Providing liquidity to DeFi pools for rewards","Mining bitcoins","Token burning","NFT auction"],answer:"Providing liquidity to DeFi pools for rewards"},
      {question:"What are ERC-20 tokens?",options:["Ethereum fungible tokens standard","Bitcoin tokens","NFT standard","DeFi loan tokens"],answer:"Ethereum fungible tokens standard"},
      {question:"What does â€˜gas feeâ€™ mean?",options:["Payment to miners for transaction processing","Penalty fee","Staking fee","Token price"],answer:"Payment to miners for transaction processing"},
      {question:"What is a â€˜cold walletâ€™?",options:["Offline cryptocurrency wallet","Hot wallet","Exchange account","Smart contract"],answer:"Offline cryptocurrency wallet"},
      {question:"What is â€˜impermanent lossâ€™?",options:["Loss from providing liquidity due to price changes","Permanent wallet hack","Mining failure","Failed transaction"],answer:"Loss from providing liquidity due to price changes"},
      {question:"What is a â€˜hashrateâ€™?",options:["Mining power per second","Wallet balance","Token supply","Gas limit"],answer:"Mining power per second"},
      {question:"What does NFT stand for?",options:["Non-Fungible Token","New Financial Transaction","Network File Transfer","Node Functional Token"],answer:"Non-Fungible Token"},
      {question:"What is a â€˜51% attackâ€™?",options:["Control of majority mining power to manipulate blockchain","Slashing penalty","Token inflation","Smart contract bug"],answer:"Control of majority mining power to manipulate blockchain"},
      {question:"What does â€˜forkâ€™ mean in blockchain?",options:["Network split creating two versions","Token swap","Wallet backup","Mining hardware upgrade"],answer:"Network split creating two versions"},
      {question:"What is â€˜yield farmingâ€™?",options:["Earning rewards by lending or staking crypto","Mining yield","Token creation","Wallet backup"],answer:"Earning rewards by lending or staking crypto"},
      {question:"What is a â€˜token burnâ€™?",options:["Permanently removing tokens from circulation","Creating new tokens","Transferring tokens","Smart contract upgrade"],answer:"Permanently removing tokens from circulation"},
      {question:"What is â€˜shardingâ€™ in blockchain?",options:["Splitting database for scalability","Mining method","Wallet type","Token standard"],answer:"Splitting database for scalability"},
      {question:"What is â€˜Layer 2â€™ solution?",options:["Off-chain scaling method","Token","Smart contract","Exchange"],answer:"Off-chain scaling method"},
    ],
    ar: [
      {question:"Ù…Ø§Ø°Ø§ ØªÙˆÙØ± zk-SNARK ÙÙŠ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†ØŸ",options:["Ø¥Ø«Ø¨Ø§Øª Ù…Ø¹Ø±ÙØ© ØµÙØ±ÙŠØ© ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ©","Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ†","Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©","Ø¹Ù‚Ø¯ Ø§Ù„Ø±Ù‡Ø§Ù†"],answer:"Ø¥Ø«Ø¨Ø§Øª Ù…Ø¹Ø±ÙØ© ØµÙØ±ÙŠØ© ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ©"},
      {question:"Ù…Ø§ Ù‡Ùˆ Ù‡Ø¬ÙˆÙ… Ø§Ù„Ù‚Ø±Ø¶ Ø§Ù„ÙÙ„Ø§Ø´ØŸ",options:["Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ù€ DeFi Ø¹Ø¨Ø± Ù‚Ø±ÙˆØ¶ ÙÙˆØ±ÙŠØ©","Ø²ÙŠØ§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ†","Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ø±Ø³ÙˆÙ… Ø§Ù„ØºØ§Ø²","ØªÙƒØ±Ø§Ø± NFT"],answer:"Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ù€ DeFi Ø¹Ø¨Ø± Ù‚Ø±ÙˆØ¶ ÙÙˆØ±ÙŠØ©"},
      {question:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù€ ChainlinkØŸ",options:["ØªÙˆÙÙŠØ± Ø§Ù„Ø£ÙˆØ±Ø§ÙƒÙ„ Ù„Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ©","Ø§Ø³ØªØ¶Ø§ÙØ© NFTs","Ø®Ø¯Ù…Ø© Ø§Ù„Ø±Ù‡Ø§Ù†","ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©"],answer:"ØªÙˆÙÙŠØ± Ø§Ù„Ø£ÙˆØ±Ø§ÙƒÙ„ Ù„Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ©"},
      {question:"Ù…Ø§ Ù‡Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø¬Ø±Ø© Ù…ÙŠØ±ÙƒÙ„ ÙÙŠ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†ØŸ",options:["Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙØ¹Ø§Ù„ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","Ø³Ùƒ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª","ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ©","Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª"],answer:"Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙØ¹Ø§Ù„ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"},
      {question:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ù†Ø²Ù„Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±ÙŠ ÙÙŠ ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©ØŸ",options:["Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ ÙˆØ§Ù„ÙØ¹Ù„ÙŠ","ØªØ£Ø®ÙŠØ± Ø±Ø³ÙˆÙ… Ø§Ù„ØºØ§Ø²","ØªØ¶Ø®Ù… Ø§Ù„ØªÙˆÙƒÙ†","Ø®Ù„Ù„ ÙÙŠ Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø³ÙŠÙˆÙ„Ø©"],answer:"Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ ÙˆØ§Ù„ÙØ¹Ù„ÙŠ"},
      {question:"Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ DeFiØŸ",options:["Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù„Ø§Ù…Ø±ÙƒØ²ÙŠ","Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ","Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ²Ø¹","Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±"],answer:"Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù„Ø§Ù…Ø±ÙƒØ²ÙŠ"},
      {question:"Ù…Ø§ Ù‡Ùˆ DAOØŸ",options:["Ù…Ù†Ø¸Ù…Ø© Ù…Ø³ØªÙ‚Ù„Ø© Ù„Ø§Ù…Ø±ÙƒØ²ÙŠØ©","Ø®ÙŠØ§Ø± Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©","ÙƒØ§Ø¦Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","Ø£ÙˆØ±Ø§ÙƒÙ„ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ Ù„Ø§Ù…Ø±ÙƒØ²ÙŠ"],answer:"Ù…Ù†Ø¸Ù…Ø© Ù…Ø³ØªÙ‚Ù„Ø© Ù„Ø§Ù…Ø±ÙƒØ²ÙŠØ©"},
      {question:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù‡Ø¯Ù Ù…Ù† Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø°ÙƒÙŠØŸ",options:["Ø¹Ù‚Ø¯ ÙŠÙ†ÙØ° Ù†ÙØ³Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†","Ø¹Ù‚Ø¯ Ù‚Ø§Ù†ÙˆÙ†ÙŠ Ù…Ù…Ø³ÙˆØ­ Ø¶ÙˆØ¦ÙŠØ§Ù‹","Ù…Ø­ÙØ¸Ø© Ø¹Ù…Ù„Ø§Øª Ø±Ù‚Ù…ÙŠØ©","Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ†"],answer:"Ø¹Ù‚Ø¯ ÙŠÙ†ÙØ° Ù†ÙØ³Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†"},
      {question:"Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ â€˜Ø§Ù„Ø±Ù‡Ø§Ù†â€™ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©ØŸ",options:["ØªØ¬Ù…ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ù„Ø¯Ø¹Ù… Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆÙƒØ³Ø¨ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª","ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Øª","ØªØ¯Ø§ÙˆÙ„ Ø³Ø±ÙŠØ¹","Ø´Ø±Ø§Ø¡ NFTs"],answer:"ØªØ¬Ù…ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ù„Ø¯Ø¹Ù… Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆÙƒØ³Ø¨ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª"},
      {question:"Ø£ÙŠ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªÙˆØ§ÙÙ‚ ØªØ³ØªØ®Ø¯Ù… â€˜Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¹Ù…Ù„â€™ØŸ",options:["Ø¨ÙŠØªÙƒÙˆÙŠÙ†","Ø¥ÙŠØ«ÙŠØ±ÙŠÙˆÙ… 2.0","ÙƒØ§Ø±Ø¯Ø§Ù†Ùˆ","Ø¨ÙˆÙ„ÙƒØ§Ø¯ÙˆØª"],answer:"Ø¨ÙŠØªÙƒÙˆÙŠÙ†"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜nonceâ€™ ÙÙŠ ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†ØŸ",options:["Ø±Ù‚Ù… ÙŠØ³ØªØ®Ø¯Ù… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù‡Ø§Ø´","Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ø­Ø§ÙØ¸","Ø¹Ù‚Ø¯ Ø°ÙƒÙŠ","Ù…Ø¹ÙŠØ§Ø± ØªÙˆÙƒÙ†"],answer:"Ø±Ù‚Ù… ÙŠØ³ØªØ®Ø¯Ù… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù‡Ø§Ø´"},
      {question:"Ù…Ø§ ÙˆØ¸ÙŠÙØ© â€˜Ù‡Ø§Ø´â€™ ÙÙŠ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†ØŸ",options:["Ø¨ØµÙ…Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ­Ù‚Ù‚","Ø³Ø¹Ø± ØµØ±Ù Ø§Ù„ØªÙˆÙƒÙ†","Ø±Ø³ÙˆÙ… Ø§Ù„ØºØ§Ø²","Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©"],answer:"Ø¨ØµÙ…Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ­Ù‚Ù‚"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ø³ÙŠÙˆÙ„Ø©â€™ØŸ",options:["ØªÙˆÙÙŠØ± Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ù„Ù…Ø¬Ù…Ø¹Ø§Øª DeFi Ù…Ù‚Ø§Ø¨Ù„ Ù…ÙƒØ§ÙØ¢Øª","ØªØ¹Ø¯ÙŠÙ† Ø¨ÙŠØªÙƒÙˆÙŠÙ†","Ø­Ø±Ù‚ Ø§Ù„ØªÙˆÙƒÙ†","Ù…Ø²Ø§Ø¯ NFT"],answer:"ØªÙˆÙÙŠØ± Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ù„Ù…Ø¬Ù…Ø¹Ø§Øª DeFi Ù…Ù‚Ø§Ø¨Ù„ Ù…ÙƒØ§ÙØ¢Øª"},
      {question:"Ù…Ø§ Ù‡ÙŠ ØªÙˆÙƒÙ†Ø§Øª ERC-20ØŸ",options:["Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¹Ù„Ù‰ Ø¥ÙŠØ«ÙŠØ±ÙŠÙˆÙ…","ØªÙˆÙƒÙ†Ø§Øª Ø¨ÙŠØªÙƒÙˆÙŠÙ†","Ù…Ø¹ÙŠØ§Ø± NFT","ØªÙˆÙƒÙ†Ø§Øª Ù‚Ø±Ø¶ DeFi"],answer:"Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¹Ù„Ù‰ Ø¥ÙŠØ«ÙŠØ±ÙŠÙˆÙ…"},
      {question:"Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ â€˜Ø±Ø³ÙˆÙ… Ø§Ù„ØºØ§Ø²â€™ØŸ",options:["Ø¯ÙØ¹ Ù„Ù„Ù…Ø¹Ø¯Ù†ÙŠÙ† Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©","Ø±Ø³ÙˆÙ… Ø¬Ø²Ø§Ø¦ÙŠØ©","Ø±Ø³ÙˆÙ… Ø§Ù„Ø±Ù‡Ø§Ù†","Ø³Ø¹Ø± Ø§Ù„ØªÙˆÙƒÙ†"],answer:"Ø¯ÙØ¹ Ù„Ù„Ù…Ø¹Ø¯Ù†ÙŠÙ† Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©"},
      {question:"Ù…Ø§ Ù‡ÙŠ â€˜Ù…Ø­ÙØ¸Ø© Ø¨Ø§Ø±Ø¯Ø©â€™ØŸ",options:["Ù…Ø­ÙØ¸Ø© Ø¹Ù…Ù„Ø§Øª Ø±Ù‚Ù…ÙŠØ© ØºÙŠØ± Ù…ØªØµÙ„Ø© Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª","Ù…Ø­ÙØ¸Ø© Ø³Ø§Ø®Ù†Ø©","Ø­Ø³Ø§Ø¨ Ø¨ÙˆØ±ØµØ©","Ø¹Ù‚Ø¯ Ø°ÙƒÙŠ"],answer:"Ù…Ø­ÙØ¸Ø© Ø¹Ù…Ù„Ø§Øª Ø±Ù‚Ù…ÙŠØ© ØºÙŠØ± Ù…ØªØµÙ„Ø© Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜Ø§Ù„Ø®Ø³Ø§Ø±Ø© ØºÙŠØ± Ø§Ù„Ø¯Ø§Ø¦Ù…Ø©â€™ØŸ",options:["Ø®Ø³Ø§Ø±Ø© Ù…Ù† ØªÙˆÙÙŠØ± Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ø¨Ø³Ø¨Ø¨ ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø³Ø¹Ø±","Ø§Ø®ØªØ±Ø§Ù‚ Ø¯Ø§Ø¦Ù… Ù„Ù„Ù…Ø­ÙØ¸Ø©","ÙØ´Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ†","Ù…Ø¹Ø§Ù…Ù„Ø© ÙØ§Ø´Ù„Ø©"],answer:"Ø®Ø³Ø§Ø±Ø© Ù…Ù† ØªÙˆÙÙŠØ± Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ø¨Ø³Ø¨Ø¨ ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø³Ø¹Ø±"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù‡Ø§Ø´â€™ØŸ",options:["Ù‚ÙˆØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ©","Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©","Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆÙƒÙ†","Ø­Ø¯ Ø§Ù„ØºØ§Ø²"],answer:"Ù‚ÙˆØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ©"},
      {question:"Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ NFTØŸ",options:["ØªÙˆÙƒÙ† ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„","Ù…Ø¹Ø§Ù…Ù„Ø© Ù…Ø§Ù„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©","Ù†Ù‚Ù„ Ù…Ù„Ù Ø§Ù„Ø´Ø¨ÙƒØ©","ØªÙˆÙƒÙ† ÙˆØ¸ÙŠÙÙŠ Ù„Ù„Ø¹Ù‚Ø¯"],answer:"ØªÙˆÙƒÙ† ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„"},
      {question:"Ù…Ø§ Ù‡Ùˆ Ù‡Ø¬ÙˆÙ… â€˜51%â€™ØŸ",options:["Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ ØºØ§Ù„Ø¨ÙŠØ© Ù‚ÙˆØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ù„Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†","Ø¹Ù‚ÙˆØ¨Ø© Ø§Ù„Ù‚Ø·Ø¹","ØªØ¶Ø®Ù… Ø§Ù„ØªÙˆÙƒÙ†","Ø®Ù„Ù„ Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø°ÙƒÙŠ"],answer:"Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ ØºØ§Ù„Ø¨ÙŠØ© Ù‚ÙˆØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ù„Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†"},
      {question:"Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ â€˜ÙØ±Ø¹â€™ (Fork) ÙÙŠ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†ØŸ",options:["Ø§Ù†Ù‚Ø³Ø§Ù… Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®ØªÙŠÙ†","ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªÙˆÙƒÙ†","Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ù…Ø­ÙØ¸Ø©","ØªØ±Ù‚ÙŠØ© Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ†"],answer:"Ø§Ù†Ù‚Ø³Ø§Ù… Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®ØªÙŠÙ†"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø¹ÙˆØ§Ø¦Ø¯â€™ØŸ",options:["ÙƒØ³Ø¨ Ù…ÙƒØ§ÙØ¢Øª Ø¹Ø¨Ø± Ø¥Ù‚Ø±Ø§Ø¶ Ø£Ùˆ Ø±Ù‡Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Øª","Ø¹Ø§Ø¦Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ†","Ø¥Ù†Ø´Ø§Ø¡ ØªÙˆÙƒÙ†Ø§Øª","Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ù…Ø­ÙØ¸Ø©"],answer:"ÙƒØ³Ø¨ Ù…ÙƒØ§ÙØ¢Øª Ø¹Ø¨Ø± Ø¥Ù‚Ø±Ø§Ø¶ Ø£Ùˆ Ø±Ù‡Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Øª"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜Ø­Ø±Ù‚ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øªâ€™ØŸ",options:["Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„ØªØ¯Ø§ÙˆÙ„","Ø¥Ù†Ø´Ø§Ø¡ ØªÙˆÙƒÙ†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©","Ù†Ù‚Ù„ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª","ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø°ÙƒÙŠ"],answer:"Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„ØªØ¯Ø§ÙˆÙ„"},
      {question:"Ù…Ø§ Ù‡Ùˆ â€˜Ø§Ù„ØªÙ‚Ø³ÙŠÙ…â€™ (Sharding) ÙÙŠ Ø§Ù„Ø¨Ù„ÙˆÙƒØ´ÙŠÙ†ØŸ",options:["ØªÙ‚Ø³ÙŠÙ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡","Ø·Ø±ÙŠÙ‚Ø© ØªØ¹Ø¯ÙŠÙ†","Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ÙØ¸Ø©","Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙˆÙƒÙ†"],answer:"ØªÙ‚Ø³ÙŠÙ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡"},
      {question:"Ù…Ø§ Ù‡Ùˆ Ø­Ù„ â€˜Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©â€™ØŸ",options:["Ø·Ø±ÙŠÙ‚Ø© ØªÙˆØ³ÙŠØ¹ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø³Ù„Ø³Ù„Ø©","ØªÙˆÙƒÙ†","Ø¹Ù‚Ø¯ Ø°ÙƒÙŠ","Ø¨ÙˆØ±ØµØ©"],answer:"Ø·Ø±ÙŠÙ‚Ø© ØªÙˆØ³ÙŠØ¹ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø³Ù„Ø³Ù„Ø©"},
    ]
  };

  const quizTitle = document.getElementById('quiz-title');
  const questionEl = document.getElementById('question');
  const optionsEl = document.getElementById('options');
  const nextBtn = document.getElementById('next-btn');
  const scoreEl = document.getElementById('score');
  const progressEl = document.getElementById('progress');
  const timerEl = document.getElementById('timer');
  const langSelect = document.getElementById('lang-select');
  const soundCorrect = document.getElementById('sound-correct');
  const soundWrong = document.getElementById('sound-wrong');
  const body = document.body;

  let lang = 'en';
  let questions = [];
  let currentIndex = 0;
  let score = 0;
  let timerInterval;
  let timeLeft = 10;
  const unansweredQuestions = [];

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function loadQuestions() {
    questions = [...questionsData[lang]];
    shuffleArray(questions);
  }

  function startTimer() {
    timeLeft = 10;
    timerEl.textContent = (lang === 'en' ? 'Time Left: ' : 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ') + timeLeft + 's';
    timerInterval = setInterval(() => {
      timeLeft--;
      timerEl.textContent = (lang === 'en' ? 'Time Left: ' : 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ') + timeLeft + 's';
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        markUnanswered();
        nextBtn.disabled = false;
        nextBtn.focus();
      }
    }, 1000);
  }

  function showQuestion() {
    nextBtn.disabled = true;
    timerEl.style.color = '#eee';
    if(currentIndex >= questions.length && unansweredQuestions.length > 0) {
      // Re-queue unanswered questions after main questions finish
      questions = [...unansweredQuestions];
      unansweredQuestions.length = 0;
      currentIndex = 0;
    }

    if (currentIndex >= questions.length) {
      finishQuiz();
      return;
    }
    const q = questions[currentIndex];
    questionEl.textContent = q.question;
    optionsEl.innerHTML = '';
    q.options.forEach(opt => {
      const optionDiv = document.createElement('div');
      optionDiv.classList.add('option');
      optionDiv.textContent = opt;
      optionDiv.tabIndex = 0;
      optionDiv.setAttribute('role', 'button');
      optionDiv.setAttribute('aria-pressed', 'false');
      optionDiv.addEventListener('click', () => selectOption(optionDiv, opt));
      optionDiv.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          selectOption(optionDiv, opt);
        }
      });
      optionsEl.appendChild(optionDiv);
    });
    progressEl.textContent = (lang === 'en' ? `Question ${currentIndex + 1} of ${questions.length}` : `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentIndex + 1} Ù…Ù† ${questions.length}`);
    scoreEl.textContent = (lang === 'en' ? `Score: ${score}` : `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`);
    startTimer();
  }

  function selectOption(optionDiv, selectedOption) {
    clearInterval(timerInterval);
    nextBtn.disabled = false;
    // Prevent multiple selections
    if (optionsEl.querySelector('.correct') || optionsEl.querySelector('.wrong')) return;

    const correctAnswer = questions[currentIndex].answer;
    if (selectedOption === correctAnswer) {
      optionDiv.classList.add('correct');
      score++;
      soundCorrect.play();
    } else {
      optionDiv.classList.add('wrong');
      soundWrong.play();
      // Show correct answer
      Array.from(optionsEl.children).forEach(opt => {
        if (opt.textContent === correctAnswer) {
          opt.classList.add('correct');
        }
      });
    }
    scoreEl.textContent = (lang === 'en' ? `Score: ${score}` : `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`);
  }

  function markUnanswered() {
    // Highlight correct answer
    const correctAnswer = questions[currentIndex].answer;
    Array.from(optionsEl.children).forEach(opt => {
      if (opt.textContent === correctAnswer) {
        opt.classList.add('correct');
      }
    });
    unansweredQuestions.push(questions[currentIndex]);
    timerEl.style.color = '#f44336';
  }

  function finishQuiz() {
    questionEl.textContent = lang === 'en' ? `Quiz finished! Your score: ${score} / ${questions.length + unansweredQuestions.length}` : `Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! Ù†Ù‚Ø§Ø·Ùƒ: ${score} Ù…Ù† ${questions.length + unansweredQuestions.length}`;
    optionsEl.innerHTML = '';
    timerEl.textContent = '';
    progressEl.textContent = '';
    nextBtn.disabled = true;
  }

  nextBtn.addEventListener('click', () => {
    currentIndex++;
    showQuestion();
  });

  langSelect.addEventListener('change', () => {
    lang = langSelect.value;
    if(lang === 'ar') {
      body.classList.add('rtl');
      quizTitle.textContent = 'Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…';
      nextBtn.textContent = 'Ø§Ù„ØªØ§Ù„ÙŠ';
    } else {
      body.classList.remove('rtl');
      quizTitle.textContent = 'Crypto Mastery Quiz';
      nextBtn.textContent = 'Next';
    }
    score = 0;
    currentIndex = 0;
    unansweredQuestions.length = 0;
    loadQuestions();
    showQuestion();
  });

  // Initialize
  loadQuestions();
  showQuestion();

})();
</script>
</body>
</html>
